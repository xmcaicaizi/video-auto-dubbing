# é˜¿é‡Œäº‘ç»Ÿä¸€å¹³å°è¿ç§»æ–‡æ¡£

> ğŸ“¦ **ä¸€ç«™å¼è¿ç§»æŒ‡å—** - å°†æ‰€æœ‰å¤–éƒ¨æœåŠ¡ï¼ˆASR/OSS/LLM/TTSï¼‰ç»Ÿä¸€è¿ç§»åˆ°é˜¿é‡Œäº‘ç™¾ç‚¼å¹³å°

---

## ğŸ“– æ–‡æ¡£å¯¼èˆª

### ğŸš€ å¿«é€Ÿå¼€å§‹
**é€‚åˆ**: æƒ³ç«‹å³å¼€å§‹å¼€å‘çš„å·¥ç¨‹å¸ˆ

ğŸ‘‰ [**å¿«é€Ÿå¯åŠ¨æŒ‡å—**](./QUICK_START_GUIDE.md)
5åˆ†é’Ÿå¿«é€Ÿè®¾ç½®å¼€å‘ç¯å¢ƒï¼Œé€‰æ‹©ä»»åŠ¡å¼€å§‹å¼€å‘

---

### ğŸ“‹ è¯¦ç»†è®¡åˆ’
**é€‚åˆ**: é¡¹ç›®ç»ç†ã€æŠ€æœ¯è´Ÿè´£äºº

ğŸ‘‰ [**å®Œæ•´è¿ç§»è®¡åˆ’**](./ALIYUN_MIGRATION_PLAN.md)
è¯¦ç»†çš„è¿ç§»æ­¥éª¤ã€æ—¶é—´çº¿ã€èµ„æºåˆ†é…å’Œé£é™©ç®¡ç†

**åŒ…å«å†…å®¹**:
- 5ä¸ªé˜¶æ®µçš„è¯¦ç»†ä»»åŠ¡åˆ†è§£
- Git Worktree å¼€å‘ç­–ç•¥
- æµ‹è¯•ç­–ç•¥å’ŒéªŒæ”¶æ ‡å‡†
- é£é™©è¯„ä¼°å’Œç¼“è§£æªæ–½

---

### âœ… è¿›åº¦è¿½è¸ª
**é€‚åˆ**: æ‰€æœ‰å›¢é˜Ÿæˆå‘˜

ğŸ‘‰ [**è¿ç§»æ£€æŸ¥æ¸…å•**](./MIGRATION_CHECKLIST.md)
æ¯æ—¥æ›´æ–°çš„ä»»åŠ¡è¿›åº¦ã€é‡Œç¨‹ç¢‘å’Œé£é™©é¡¹

**åŒ…å«å†…å®¹**:
- 40+ ä¸ªå…·ä½“ä»»åŠ¡çš„å¤é€‰æ¡†
- æ¯ä¸ªé˜¶æ®µçš„å®Œæˆåº¦è¿›åº¦æ¡
- é‡Œç¨‹ç¢‘è¿½è¸ªè¡¨
- æ¯æ—¥ç«™ä¼šè®°å½•æ¨¡æ¿

---

## ğŸ¯ è¿ç§»æ¦‚è§ˆ

### è¿ç§»ç›®æ ‡

å°†ä»¥ä¸‹æœåŠ¡ç»Ÿä¸€è¿ç§»åˆ°é˜¿é‡Œäº‘ç™¾ç‚¼å¹³å°ï¼š

| æœåŠ¡ | å½“å‰æ–¹æ¡ˆ | è¿ç§»ç›®æ ‡ | ä¼˜å…ˆçº§ |
|-----|---------|---------|--------|
| **ASR** | ç«å±±å¼•æ“ | é˜¿é‡Œäº‘ Qwen ASR | P1 |
| **OSS** | MinIO (è‡ªå»º) | é˜¿é‡Œäº‘ OSS | P1 |
| **LLM** | æ™ºè°±GLM | é˜¿é‡Œäº‘ DashScope | P1 |
| **TTS** | IndexTTS (è‡ªå»º) | é˜¿é‡Œäº‘ Qwen-TTS | P1 |

### é¢„æœŸæ”¶ç›Š

#### ğŸ’° æˆæœ¬ä¼˜åŒ–
- âœ… ç§»é™¤ GPU æœåŠ¡å™¨ï¼ˆèŠ‚çœ $500+/æœˆï¼‰
- âœ… æŒ‰éœ€ä»˜è´¹ï¼Œæ— é—²ç½®æˆæœ¬
- âœ… ç»Ÿä¸€è´¦å•ç®¡ç†

#### ğŸš€ æ€§èƒ½æå‡
- âš¡ TTS åˆæˆé€Ÿåº¦æå‡ 3x
- âš¡ OSS CDN åŠ é€Ÿå…¨çƒè®¿é—®
- âš¡ å¤šåŒºåŸŸé«˜å¯ç”¨éƒ¨ç½²

#### ğŸ› ï¸ è¿ç»´ç®€åŒ–
- ğŸ“¦ æ— éœ€ç»´æŠ¤æœ¬åœ°æœåŠ¡
- ğŸ”§ ç»Ÿä¸€çš„ API Key ç®¡ç†
- ğŸ“Š ç»Ÿä¸€çš„ç›‘æ§å¹³å°

---

## ğŸ“… æ—¶é—´çº¿

```
Week 1 (Day 1-5):
â”œâ”€â”€ Day 1: Worktree ç¯å¢ƒåˆå§‹åŒ–
â”œâ”€â”€ Day 2-3: ASR è¿ç§»
â””â”€â”€ Day 4-5: OSS è¿ç§»å¼€å§‹

Week 2 (Day 6-10):
â”œâ”€â”€ Day 6: OSS è¿ç§»å®Œæˆ
â”œâ”€â”€ Day 7-8: LLM ç¿»è¯‘è¿ç§»
â””â”€â”€ Day 9-10: TTS è¿ç§»å¼€å§‹

Week 3 (Day 11-14):
â”œâ”€â”€ Day 11: TTS è¿ç§»å®Œæˆ
â”œâ”€â”€ Day 12-13: æ¸…ç†é—ç•™æœåŠ¡
â””â”€â”€ Day 14: æœ€ç»ˆéªŒè¯å’Œåˆå¹¶
```

---

## ğŸ—ï¸ å¼€å‘æ¶æ„

### Git Worktree ç­–ç•¥

```
main
â””â”€â”€ feature/aliyun-unified-migration (ä¸»è¿ç§»åˆ†æ”¯)
    â”œâ”€â”€ feature/aliyun-asr-default
    â”œâ”€â”€ feature/aliyun-oss-default
    â”œâ”€â”€ feature/aliyun-llm-default
    â”œâ”€â”€ feature/aliyun-tts-default
    â””â”€â”€ feature/cleanup-legacy-services
```

### å·¥ä½œç›®å½•

```
~/worktrees/video-dubbing/
â”œâ”€â”€ aliyun-migration/     # ä¸»åˆ†æ”¯ - é›†æˆæµ‹è¯•
â”œâ”€â”€ asr-default/          # ASR ä»»åŠ¡ - å¹¶è¡Œå¼€å‘
â”œâ”€â”€ oss-default/          # OSS ä»»åŠ¡ - å¹¶è¡Œå¼€å‘
â”œâ”€â”€ llm-default/          # LLM ä»»åŠ¡ - å¹¶è¡Œå¼€å‘
â”œâ”€â”€ tts-default/          # TTS ä»»åŠ¡ - å¹¶è¡Œå¼€å‘
â””â”€â”€ cleanup-legacy/       # æ¸…ç†ä»»åŠ¡ - å¹¶è¡Œå¼€å‘
```

**ä¼˜åŠ¿**:
- âœ… å¤šäººå¹¶è¡Œå¼€å‘ï¼Œäº’ä¸å¹²æ‰°
- âœ… ç‹¬ç«‹æµ‹è¯•å„ä¸ªæ¨¡å—
- âœ… çµæ´»çš„åˆå¹¶å’Œé›†æˆç­–ç•¥

---

## ğŸ¯ ä»»åŠ¡åˆ†é…

### Phase 1: ASR è¿ç§» (Day 1-3)
**è´Ÿè´£äºº**: ___________
**å·¥ä½œç›®å½•**: `~/worktrees/video-dubbing/asr-default`

**ä¸»è¦ä»»åŠ¡**:
- è®¾ç½®é˜¿é‡Œäº‘ ASR ä¸ºé»˜è®¤åç«¯
- ä¼˜åŒ–å¼‚æ­¥è½®è¯¢é€»è¾‘
- å®ç°ä¼˜é›…é™çº§æœºåˆ¶
- å®Œå–„é›†æˆæ–‡æ¡£

### Phase 2: OSS è¿ç§» (Day 3-6)
**è´Ÿè´£äºº**: ___________
**å·¥ä½œç›®å½•**: `~/worktrees/video-dubbing/oss-default`

**ä¸»è¦ä»»åŠ¡**:
- è®¾ç½®é˜¿é‡Œäº‘ OSS ä¸ºé»˜è®¤å­˜å‚¨
- å¼€å‘ MinIO â†’ OSS è¿ç§»å·¥å…·
- å®ç° CDN åŠ é€Ÿé…ç½®
- æ•°æ®å®Œæ•´æ€§éªŒè¯

### Phase 3: LLM è¿ç§» (Day 6-8)
**è´Ÿè´£äºº**: ___________
**å·¥ä½œç›®å½•**: `~/worktrees/video-dubbing/llm-default`

**ä¸»è¦ä»»åŠ¡**:
- è®¾ç½® DashScope ä¸ºé»˜è®¤ç¿»è¯‘æœåŠ¡
- ä¼˜åŒ–æ‰¹å¤„ç†é€»è¾‘
- å®ç°ç¿»è¯‘è®°å¿†åº“
- è´¨é‡å¯¹æ¯”æµ‹è¯•

### Phase 4: TTS è¿ç§» (Day 8-11)
**è´Ÿè´£äºº**: ___________
**å·¥ä½œç›®å½•**: `~/worktrees/video-dubbing/tts-default`

**ä¸»è¦ä»»åŠ¡**:
- è®¾ç½®é˜¿é‡Œäº‘ TTS ä¸ºé»˜è®¤åç«¯
- å®ç°æµå¼åˆæˆæ”¯æŒ
- ä¼˜åŒ–éŸ³è‰²æ˜ å°„ç³»ç»Ÿ
- æ€§èƒ½å¯¹æ¯”æµ‹è¯•

### Phase 5: æ¸…ç†é—ç•™ (Day 11-14)
**è´Ÿè´£äºº**: ___________
**å·¥ä½œç›®å½•**: `~/worktrees/video-dubbing/cleanup-legacy`

**ä¸»è¦ä»»åŠ¡**:
- ç§»é™¤ MinIO å’Œ TTS æœåŠ¡
- æ¸…ç†é—ç•™ä»£ç 
- æ›´æ–°æ–‡æ¡£
- æœ€ç»ˆéªŒè¯

---

## ğŸ§ª è´¨é‡ä¿è¯

### æµ‹è¯•è¦†ç›–

- âœ… **å•å…ƒæµ‹è¯•**: æ¯ä¸ªæ¨¡å— > 80% è¦†ç›–ç‡
- âœ… **é›†æˆæµ‹è¯•**: å®Œæ•´æµç¨‹æµ‹è¯•
- âœ… **æ€§èƒ½æµ‹è¯•**: å¯¹æ¯”æ—§ç³»ç»Ÿ
- âœ… **å›å½’æµ‹è¯•**: ç¡®ä¿ç°æœ‰åŠŸèƒ½æ­£å¸¸

### Code Review

- âœ… ç¬¦åˆé¡¹ç›®ä»£ç è§„èŒƒ
- âœ… æ— å®‰å…¨æ¼æ´
- âœ… æ—¥å¿—è®°å½•å®Œæ•´
- âœ… é”™è¯¯å¤„ç†å¥å£®

### æ–‡æ¡£å®¡æŸ¥

- âœ… é…ç½®ç¤ºä¾‹å‡†ç¡®
- âœ… æ•…éšœæ’é™¤å®Œæ•´
- âœ… API æ–‡æ¡£æ›´æ–°
- âœ… æ¶æ„å›¾æ›´æ–°

---

## ğŸ“š ç›¸å…³èµ„æº

### é˜¿é‡Œäº‘å®˜æ–¹æ–‡æ¡£
- [ç™¾ç‚¼å¹³å°æ€»è§ˆ](https://help.aliyun.com/zh/model-studio/)
- [Qwen ASR API](https://help.aliyun.com/zh/model-studio/qwen-asr-api-reference)
- [DashScope API](https://help.aliyun.com/zh/model-studio/developer-reference/api-details)
- [Qwen-TTS API](https://help.aliyun.com/zh/model-studio/developer-reference/text-to-speech-api-details)
- [é˜¿é‡Œäº‘ OSS](https://help.aliyun.com/zh/oss/)

### é¡¹ç›®æ–‡æ¡£
- [æ¶æ„æ¦‚è§ˆ](../ARCHITECTURE_OVERVIEW.md)
- [å¿«é€Ÿå¼€å§‹](../quick-start.md)
- [ä»£ç è§„èŒƒ](../coding-standards.md)
- [éƒ¨ç½²æŒ‡å—](../deployment-guide.md)

### ç°æœ‰é›†æˆæ–‡æ¡£
- [é˜¿é‡Œäº‘ ASR é›†æˆ](../aliyun_asr_integration.md)
- [é˜¿é‡Œäº‘ TTS é›†æˆ](../aliyun_tts_integration.md)
- [DashScope LLM è®¾ç½®](../guides/DASHSCOPE_LLM_SETUP.md)

---

## ğŸ†˜ è·å–å¸®åŠ©

### é‡åˆ°é—®é¢˜ï¼Ÿ

1. **æŸ¥çœ‹æ•…éšœæ’é™¤**
   - [å¿«é€Ÿå¯åŠ¨æŒ‡å— - æ•…éšœæ’é™¤ç« èŠ‚](./QUICK_START_GUIDE.md#æ•…éšœæ’é™¤)
   - [é¡¹ç›®æ•…éšœæ’é™¤æ–‡æ¡£](../troubleshooting/README.md)

2. **æœç´¢ç°æœ‰ Issues**
   - GitHub Issues
   - å›¢é˜ŸçŸ¥è¯†åº“

3. **è”ç³»å›¢é˜Ÿ**
   - å›¢é˜Ÿç¾¤èŠ
   - é¡¹ç›®è´Ÿè´£äººé‚®ç®±

4. **æäº¤æ–° Issue**
   - ä½¿ç”¨ Issue æ¨¡æ¿
   - é™„ä¸Šè¯¦ç»†æ—¥å¿—å’Œå¤ç°æ­¥éª¤

---

## ğŸ“Š è¿›åº¦ä»ªè¡¨ç›˜

### æ€»ä½“è¿›åº¦

```
é˜¿é‡Œäº‘ç»Ÿä¸€å¹³å°è¿ç§»è¿›åº¦:

[â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘] 0% (0/40 å®Œæˆ)

ASR è¿ç§»:    [â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘] 0/8
OSS è¿ç§»:    [â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘] 0/10
LLM è¿ç§»:    [â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘] 0/8
TTS è¿ç§»:    [â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘] 0/10
æ¸…ç†é—ç•™:    [â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘] 0/4
```

ğŸ‘‰ [æŸ¥çœ‹è¯¦ç»†è¿›åº¦](./MIGRATION_CHECKLIST.md)

### ä¸‹ä¸€ä¸ªé‡Œç¨‹ç¢‘

**M1: Worktree ç¯å¢ƒåˆå§‹åŒ–**
ğŸ“… é¢„è®¡å®Œæˆ: Day 1
ğŸ¯ çŠ¶æ€: â¸ï¸ æœªå¼€å§‹

---

## ğŸ‰ å¿«é€Ÿè¡ŒåŠ¨

### 1ï¸âƒ£ ç«‹å³å¼€å§‹

```bash
# å…‹éš†å¹¶åˆå§‹åŒ–
cd /Users/micago/Desktop/index/video-auto-dubbing
chmod +x scripts/setup_migration_worktrees.sh
./scripts/setup_migration_worktrees.sh
```

### 2ï¸âƒ£ é€‰æ‹©ä»»åŠ¡

```bash
cd ~/worktrees/video-dubbing

# é€‰æ‹©ä¸€ä¸ªä»»åŠ¡
source goto.sh asr    # ASR è¿ç§»
source goto.sh oss    # OSS è¿ç§»
source goto.sh llm    # LLM è¿ç§»
source goto.sh tts    # TTS è¿ç§»
```

### 3ï¸âƒ£ å¼€å§‹å¼€å‘

```bash
# æŸ¥çœ‹ä»»åŠ¡è¯´æ˜
cat docs/migration/TASK_*.md

# è¿è¡Œæµ‹è¯•
go test ./... -v

# æäº¤æ›´æ”¹
git add .
git commit -m "feat: implement feature"
git push
```

---

## ğŸ“ è”ç³»æ–¹å¼

| è§’è‰² | å§“å | è”ç³»æ–¹å¼ |
|-----|------|---------|
| é¡¹ç›®è´Ÿè´£äºº | ___ | ___ |
| æŠ€æœ¯è´Ÿè´£äºº | ___ | ___ |
| QA è´Ÿè´£äºº | ___ | ___ |

---

## ğŸ“ æ–‡æ¡£ç‰ˆæœ¬

| ç‰ˆæœ¬ | æ—¥æœŸ | å˜æ›´è¯´æ˜ |
|-----|------|---------|
| v1.0 | 2026-02-02 | åˆå§‹ç‰ˆæœ¬ - å®Œæ•´è¿ç§»è®¡åˆ’ |

---

**ç¥è¿ç§»é¡ºåˆ©ï¼å¦‚æœ‰é—®é¢˜ï¼Œéšæ—¶è”ç³»å›¢é˜Ÿã€‚ğŸš€**

---

## ğŸ“– æ–‡æ¡£ç´¢å¼•

```
docs/migration/
â”œâ”€â”€ README.md                      # ğŸ“ å½“å‰æ–‡æ¡£ - æ€»å¯¼èˆª
â”œâ”€â”€ ALIYUN_MIGRATION_PLAN.md      # å®Œæ•´è¿ç§»è®¡åˆ’
â”œâ”€â”€ MIGRATION_CHECKLIST.md        # ä»»åŠ¡æ£€æŸ¥æ¸…å•
â””â”€â”€ QUICK_START_GUIDE.md          # å¿«é€Ÿå¯åŠ¨æŒ‡å—
```

**æ¨èé˜…è¯»é¡ºåº**:
1. ğŸ“– README.md (å½“å‰) - äº†è§£å…¨å±€
2. ğŸš€ QUICK_START_GUIDE.md - å¿«é€Ÿå¼€å§‹
3. ğŸ“‹ ALIYUN_MIGRATION_PLAN.md - è¯¦ç»†è§„åˆ’
4. âœ… MIGRATION_CHECKLIST.md - æ¯æ—¥è¿½è¸ª
